# 簡易仕様書

### 作者
石郷岡隼
### アプリ名
てくてくイート

#### コンセプト
徒歩もで行ける近くのお店を探して、健康になりながらご飯を食べよう！

#### こだわったポイント
歩行を促すメッセージで、「ごはんアプリ」よりも「健康アプリ」の側面を強化しました。
検索結果の数を冒頭に表示することで、「まだスクロール終わらねーのか(怒)」といったユーザーのいらだちを未然に防ぎます。
検索結果が0件だった際には「申し訳ありません」などの謝罪文を出してしまうことで、「店舗がない」という情報をユーザーに伝えるようにしました。これによりユーザーが「結果出るの遅いな...電波弱いのかな...」と心配することがないようにしました。


### 該当プロジェクトのリポジトリ URL（GitHub,GitLab など Git ホスティングサービスを利用されている場合）
https://github.com/mofunemun/mofunemun_fenrir

## 開発環境
### 開発環境
VSCode 1.64.2
Google Chrome バージョン98.0.4758.82

### 開発言語
HTML/Sass(Scss記法)/JavaScript

## 動作対象端末・OS
### 動作対象ブラウザ
GoogleChromeのみ
そのほかのモダンブラウザでは動作しません。

## 開発期間
4日間

## アプリケーション機能

### 機能一覧
- レストラン検索：ホットペッパーグルメサーチAPIを使用して、現在地周辺の飲食店を検索する。
- レストラン情報取得：ホットペッパーグルメサーチAPIを使用して、飲食店の詳細情報を取得する。

### 画面一覧
- 検索画面：検索領域の半径を5種類から選び、現在地から近い順に表示する。
- 詳細画面：検索画面で出てきた店舗カードをクリックすると、詳細情報を掲載したページに遷移する。

### 使用しているAPI,SDK,ライブラリなど
- ホットペッパーグルメサーチAPI

### アドバイスして欲しいポイント
2点アドバイスをいただきたいポイントがある。

1つ目は「ページネーション」である。要求された仕様のうち、ページネーションだけは実装できず断念したため、どのように解決するべきであったかについてアドバイスが欲しい。
今回使用を試みたページネーションのjQueryライブラリであるpaginathing.jsでは、ページネーションを実装したい親要素のクラス名を入力するとページネーションが実装されるはずであった。しかし、クラス名を入れてもページネーションが実行されず、この問題を解決することもできなかった。
原因はHTMLをJSで生成して挿入していることと、jQueryの実行タイミングにありそうである。調査したところ、HTMファイルに<ul class="answers"></ul>などと記載している場合には正常に動作するが、JSから同様のHTMLを生成して挿入すると、jQueryの実行タイミングよりも後に実行されているのか生成した要素が認識されなかった。(console.logさせると"undefined"になる)

2つ目は「JSから挿入したHTMLに対してCSSファイルからスタイルを当てることが出来ない」という問題である。先述したように本アプリでは検索結果をJSで処理し、HTMLに挿入している。一方でＣＳＳファイルはＨＴＭＬファイルを参照しているため、もともとＨＴＭＬファイルに記載されていなかった要素が加わっても、それに対してスタイルが適用されないという問題が起きている。
今後ＡＰＩを使ってさらにアプリを制作したいと考えているため、この問題の解決策についてもアドバイスをいただきたい。

またこれは余談であるが、http-serverを用いて作業していたため、CORSエラーにも悩まされた。外部のAPIをことなうオリジンから読み込もうとするとエラーになり、クライアント側での対処法が分からず手が止まってしまった。(ひとまずJSを読み込ませたHTMLファイルをブラウザで読み込んで開発を行った。)
HTTP通信についても勉強の必要がありそうである。